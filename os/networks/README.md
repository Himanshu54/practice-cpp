## Beej's Guide

### examples
 
Testing `server.c`
```bash
$ ./a.out
---
$ nc -N 127.0.0.1 5000
---
$ sudo tcpdump -i lo -ttt -A
 00:00:00.000000 IP localhost.33902 > localhost.5000: Flags [S], seq 637764440, win 65495, options [mss 65495,sackOK,TS val 686437560 ecr 0,nop,wscale 7], length 0
E..<..@.@.y..........n..&..X.........0.........
(.4.........
 00:00:00.000012 IP localhost.5000 > localhost.33902: Flags [S.], seq 386312171, ack 637764441, win 65483, options [mss 65495,sackOK,TS val 686437560 ecr 686437560,nop,wscale 7], length 0
E..<..@.@.<............n....&..Y.....0.........
(.4.(.4.....
 00:00:00.000010 IP localhost.33902 > localhost.5000: Flags [.], ack 1, win 512, options [nop,nop,TS val 686437560 ecr 686437560], length 0
E..4..@.@.y..........n..&..Y.........(.....
(.4.(.4.
 00:00:00.000047 IP localhost.5000 > localhost.33902: Flags [P.], seq 1:7, ack 1, win 512, options [nop,nop,TS val 686437560 ecr 686437560], length 6
E..:..@.@.I3...........n....&..Y...........
(.4.(.4.World!
 00:00:00.000016 IP localhost.33902 > localhost.5000: Flags [.], ack 7, win 512, options [nop,nop,TS val 686437560 ecr 686437560], length 0
E..4..@.@.y..........n..&..Y.........(.....
(.4.(.4.
 00:00:00.000012 IP localhost.5000 > localhost.33902: Flags [F.], seq 7, ack 1, win 512, options [nop,nop,TS val 686437560 ecr 686437560], length 0
E..4..@.@.I8...........n....&..Y.....(.....
(.4.(.4.
 00:00:00.043595 IP localhost.33902 > localhost.5000: Flags [.], ack 8, win 512, options [nop,nop,TS val 686437604 ecr 686437560], length 0
E..4..@.@.y..........n..&..Y.........(.....
(.4.(.4.
 00:00:27.692082 IP localhost.33902 > localhost.5000: Flags [P.], seq 1:2, ack 8, win 512, options [nop,nop,TS val 686465296 ecr 686437560], length 1
E..5..@.@.y..........n..&..Y.........).....
(...(.4.

 00:00:00.000014 IP localhost.5000 > localhost.33902: Flags [R], seq 386312179, win 0, length 0
E..(..@.@.<............n........P...Z...
^C
---
S	SYN	Connection Start
F	FIN	Connection Finish
P	PUSH	Data push
R	RST	Connection reset
.	ACK	Acknowledgment
```

Testing with no server `client.c`
```bash
 00:00:00.000000 IP localhost.36138 > localhost.5000: Flags [S], seq 60792431, win 65495, options [mss 65495,sackOK,TS val 687705315 ecr 0,nop,wscale 7], length 0
E..<.0@.@.E..........*.....o.........0.........
(...........
 00:00:00.000010 IP localhost.5000 > localhost.36138: Flags [R.], seq 0, ack 60792432, win 0, length 0
E..(..@.@.<............*.......pP...o...
```

Tesing with `nc -L 127.0.0.1 5000` & `client.c` 
```bash
 00:00:00.000000 IP localhost.46340 > localhost.5000: Flags [S], seq 2326932619, win 65495, options [mss 65495,sackOK,TS val 687989512 ecr 0,nop,wscale 7], length 0
E..<e.@.@..!..............,..........0.........
)...........
 00:00:00.000012 IP localhost.5000 > localhost.46340: Flags [S.], seq 83141656, ack 2326932620, win 65483, options [mss 65495,sackOK,TS val 687989512 ecr 687989512,nop,wscale 7], length 0
E..<..@.@.<...................,......0.........
)...).......
 00:00:00.000011 IP localhost.46340 > localhost.5000: Flags [.], ack 1, win 512, options [nop,nop,TS val 687989512 ecr 687989512], length 0
E..4e.@.@..(..............,..........(.....
)...)...
 00:00:00.000039 IP localhost.46340 > localhost.5000: Flags [F.], seq 1, ack 1, win 512, options [nop,nop,TS val 687989513 ecr 687989512], length 0
E..4e.@.@..'..............,..........(.....
)..	)...
 00:00:00.000055 IP localhost.5000 > localhost.46340: Flags [F.], seq 1, ack 2, win 512, options [nop,nop,TS val 687989513 ecr 687989513], length 0
E..4.n@.@.QS..................,......(.....
)..	)..
 00:00:00.000014 IP localhost.46340 > localhost.5000: Flags [.], ack 2, win 512, options [nop,nop,TS val 687989513 ecr 687989513], length 0
E..4e.@.@..&..............,..........(.....
)..	)..
^C
```

Testing with `server.c` and `client.c` two way coms.
```bash
00:00:00.000000 IP localhost.47220 > localhost.5000: Flags [S], seq 1883609177, win 65495, options [mss 65495,sackOK,TS val 688953552 ecr 0,nop,wscale 7], length 0
E..<..@.@.I..........t..pE.Y.........0.........
)...........
 00:00:00.000013 IP localhost.5000 > localhost.47220: Flags [S.], seq 3950414535, ack 1883609178, win 65483, options [mss 65495,sackOK,TS val 688953552 ecr 688953552,nop,wscale 7], length 0
E..<..@.@.<............t.v..pE.Z.....0.........
)...).......
 00:00:00.000037 IP localhost.47220 > localhost.5000: Flags [.], ack 1, win 512, options [nop,nop,TS val 688953552 ecr 688953552], length 0
E..4..@.@.I..........t..pE.Z.v.......(.....
)...)...
 00:00:00.000027 IP localhost.47220 > localhost.5000: Flags [P.], seq 1:7, ack 1, win 512, options [nop,nop,TS val 688953552 ecr 688953552], length 6
E..:..@.@.I..........t..pE.Z.v.............
)...)...Hello!
 00:00:00.000004 IP localhost.5000 > localhost.47220: Flags [.], ack 7, win 512, options [nop,nop,TS val 688953552 ecr 688953552], length 0
E..4..@.@.B............t.v..pE.`.....(.....
)...)...
 00:00:00.000053 IP localhost.5000 > localhost.47220: Flags [P.], seq 1:7, ack 7, win 512, options [nop,nop,TS val 688953552 ecr 688953552], length 6
E..:..@.@.B............t.v..pE.`...........
)...)...World!
 00:00:00.000004 IP localhost.47220 > localhost.5000: Flags [.], ack 7, win 512, options [nop,nop,TS val 688953552 ecr 688953552], length 0
E..4..@.@.I..........t..pE.`.v.......(.....
)...)...
 00:00:00.000014 IP localhost.5000 > localhost.47220: Flags [F.], seq 7, ack 7, win 512, options [nop,nop,TS val 688953552 ecr 688953552], length 0
E..4..@.@.B............t.v..pE.`.....(.....
)...)...
 00:00:00.000178 IP localhost.47220 > localhost.5000: Flags [F.], seq 7, ack 8, win 512, options [nop,nop,TS val 688953552 ecr 688953552], length 0
E..4..@.@.I..........t..pE.`.v.......(.....
)...)...
 00:00:00.000005 IP localhost.5000 > localhost.47220: Flags [.], ack 8, win 512, options [nop,nop,TS val 688953552 ecr 688953552], length 0
E..4..@.@.B............t.v..pE.a.....(.....
)...)...
^C
```
